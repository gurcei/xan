#OUTPUT "BIGSPRITE"'------------.DECLARATIONS'------------#DECLARE A$ = ""#DECLARE IDX = 0#DECLARE VALUE = 0#DECLARE LOC#DECLARE K#DECLARE спрь64ен = $D057#DECLARE спрхгтен = $D055#DECLARE спрхгт   = $D056#DECLARE сцрнптрлсб = $D060#DECLARE сцрнптрбнк = $D062#DECLARE спрптр16 = $D06E#DECLARE спрптрадр = $D06C#DECLARE спрптрбнк = $D06E#DECLARE хотрег╞7 = $D05D'----.INIT'----' SWITCH TO 80X50BANK 128SETBIT хотрег╞7, 7POKE $D031, $E8 ' 1110 1000 = х640,фаст,аттр,ж400' MOVE сцрнптр TO BANK4 - $8000WPOKE сцрнптрлсб, $8000POKE сцрнптрбнк,$04' LET ALL SPRITES BE 64 BITS WIDEPOKE спрь64ен, 255' LET ALL SPRITES BE 64 BITS HIGHPOKE спрхгтен, 255POKE спрхгт, 64' $4,0000 +------------------+'         ! спрптр (8 WORDS) !' $4,0040 +------------------+ <-- SPRPTR $1001'         ! мусе#1 - FRAME 0 !' $4,0240 +------------------+ <-- SPRPTR $1001 + 8'         ! мусе#1 FRAMES1-5 !' $4,0е40 +------------------+ <-- SPRPTR $1001 + 8*6'         ! мусе#2 FRAMES0-5 !' $4,1а40 +------------------+ <-- SPRPTR $1001 + 8*12'         ! мусес#3 TO #9    !' $4,6ц40 +------------------+'         ! 32 X ргб палетте !' $4,6ца0 +------------------+' $4,8000 +------------------+'         ! сцреен мем 80X50 !' $4,8фа0 +------------------+' ENFORCE SPRITES INTO банк4 AND спрптр16 BIT TURNED ONPOKE спрптрбнк, 4+128           WPOKE спрптрадр, 0' LOAD 64X64 SPRITE DATA^^BLOAD "MUSE.DAT",P($40040),R' LOAD OLI FRAMES TO BANK 5^^BLOAD "OLI.DAT",P($50000),R' SWITCH PALETTE#DECLARE RED,GREEN,BLUELOC=$46C40FOR IDX=0 TO 31  RED=PEEK(LOC):LOC=LOC+1  GREEN=PEEK(LOC):LOC=LOC+1  BLUE=PEEK(LOC):LOC=LOC+1' PRINT "R=";RED;", G=";GREEN;", B=";BLUE  POKE $D100+IDX,RED  POKE $D200+IDX,GREEN  POKE $D300+IDX,BLUENEXT IDX' CLEAR 80X50 CHARS AND COLOUR RAMFOR IDX=0 TO 3999:POKE $48000+IDX,160:POKE $FF80000+IDX,6:NEXT IDX      ' DISPLAY SPRITE#DECLARE SPRCLR,OFFXSPRCLR = 30OFFX=25SPRITE 0,1,SPRCLRMOVSPR 0,0+OFFX,50SPRITE 1,1,SPRCLRMOVSPR 1,85+OFFX,50SPRITE 2,1,SPRCLRMOVSPR 2,171+OFFX,50SPRITE 3,1,SPRCLRMOVSPR 3,256+OFFX,50SPRITE 4,1,SPRCLRMOVSPR 4,0+OFFX+8,180SPRITE 5,1,SPRCLRMOVSPR 5,85+OFFX+8,180SPRITE 6,1,SPRCLRMOVSPR 6,171+OFFX,180SPRITE 7,1,SPRCLRMOVSPR 7,256+OFFX,180' POINT SPRITE0 TO $4040BANK 4FOR K=0 TO 14 STEP 2  WPOKE K, $1001+8*(3*K)NEXT K' SET BACKGROUND, BORDERBACKGROUND 6BORDER 14IDX = 0^^OI=0:OD=0/----.LOOP'----' SELECT SPRITE FRAMEBANK 4FOR K=0 TO 7  WPOKE K*2, $1001+8*(IDX+6*K)NEXT KGOSUB DRAWOLIVIASLEEP .3IDX=IDX+1IF IDX=6 THEN IDX=0GET A$:IF A$="" THEN GOTO LOOP'-----.ENDER'-----FOR IDX = 0 TO 7  SPRITE IDX,0NEXT IDX' SWITCH TO 80X25BANK 128POKE $D031, $E0 ' 1110 0000 = х640,фаст,аттр' RESTORE сцнптр TO BANK 0 - $0800WPOKE сцрнптрлсб, $0800POKE сцрнптрбнк, 0PALETTE RESTOREEND'----------.DRAWOLIVIA'----------#DECLARE X,Y,Z,BVAL,OLIDX^^IF OI=0 THEN LO=$46CA0^^IF OI>0 THEN LO=$50000+4000*(OI-1)LOC=$46CA0 ' FIRST OLIVIA FRAME^^EDMA 0,4000,LO,$FF80000^^IF OD = 0 THEN OI = OI + 1:IF OI > 16 THEN OD = 1:OI=16^^IF OD = 1 THEN OI = OI - 1:IF OI < 1 THEN OD = 0RETURN